# The Process

This file contains some process notes for FerretDB Inc. engineers and long-term contributors.
If you are a community contributor, feel free to ignore all this!
We will do all that for you so you can focus on what is really interesting for you.

We encourage diversity between us as different points of view expand our vision and contribute to the project's success.

Keep guides short: we don't create rules; we automate.

## Pull requests

1. Send pull requests from forks; do not make personal branches in the main repository.
   This way, we are similar to community members and could notice similar problems that we could fix for everyone,
   not just for us.
2. Pull request **title** should be accurate and descriptive as it is used in the generated changelog.
   It should not mention the issue number but describe the fixed issue instead.
3. Most of the time pull requests are related to some issues.
   In such cases pull request **description** should mention the issue number like "refs #123" or "closes #456".
   Do not use `https://github.com/org/repo/issue/123` even if it is rendered the same on GitHub.
   If your proposes a tiny fix, there is no needed to create a new issue.
4. We provide a pull requests template that includes suggestions and readiness checklist.
5. Commit messages (both titles and bodies) are not important and can be "WIP" or anything else.
   All commits are always squashed on merge by GitHub, so there is no need to squash them manually, amend them, and/or do force pushes.
   Autogenerated GitHub's squash commit's body should be manually replaced by "Refs #{issue_number}." or "Closes #{issue_number}.".
   Do not leave original commit messages in the squashed commit body.

## Draft pull requests

1. We aim our issues to be scoped and well-described.
   With that, ideally, there shouldn't be a need to create a draft pull request.
2. We aim to implement and merge improvements as fast as possible to continuously increase
   [Lead Time for Changes](https://cloud.google.com/blog/products/devops-sre/using-the-four-keys-to-measure-your-devops-performance).
   If there are too many drafts in the repo, it might be possible that something is wrong with the processes.
   Such situations need to be analyzed.
3. Rarely, there is a need to demonstrate something that shouldn't be merged.
   For such cases, draft pull requests are possible.
4. If your changes need a review, create a normal pull request.
   After the first round of review, even if your changes are not accepted, continue working with a normal pull request.
   There is no need to switch between draft and non-draft.
5. Please note that people don't get notifications about draft pull requests by default.
   If you need someone to have a look at your draft pull request, **mention them in a comment** on your draft pull request.
   Our automation will take care of notifying that person (e.g. on Slack).
6. Draft pull requests shouldn't live long. We might start deleting stale drafts automatically.
7. If you need a draft to live long, consider creating a draft pull request in your own fork.
