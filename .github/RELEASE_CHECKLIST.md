# Release Checklist

## Preparation

1. Check tests, linters.
2. Check issues and pull requests, update milestones and labels.
3. Check if there are breaking changes or anything that should be reflected in the changelog and/or user documentation.
4. Create draft release on GitHub with autogenerated release notes.
5. Tweak generated release notes:
   * Ensure that "This section should be empty" section does not exist.
   * Add "All closed issues and pull requests" and "All commits", remove "Full Changelog".
   * Tweak spacing, headers levels.
6. Update CHANGELOG.md with the same release notes:
   * Check spacing, header levels.
7. Push changes, check `git status`.

## Git tag

1. Make a signed tag `vX.Y.Z` with the relevant section of the changelog using `--cleanup=verbatim`.
2. Check `task gen-version; git status` output.
3. Push it!
4. Refresh
   * `env GOPROXY=https://proxy.golang.org go mod download -x github.com/FerretDB/FerretDB@<tag>`
   * `https://pkg.go.dev/github.com/FerretDB/FerretDB@<tag>` from <https://pkg.go.dev/github.com/FerretDB/FerretDB?tab=versions>

## Docker

1. Check `task gen-version; git status` output.
2. `task docker-push-release`.
3. Check <https://hub.docker.com/r/ferretdb/ferretdb/tags>, <https://github.com/FerretDB/FerretDB/pkgs/container/ferretdb>.

## Release

1. Upload the binary and .deb and .rpm packages
   [from the CI build for the tag](https://github.com/FerretDB/FerretDB/actions/workflows/packages.yml?query=event%3Apush)
   to the draft release.
2. Close milestone in issues.
3. Publish release on GitHub.
4. Announce it on Slack.
5. Bump the latest version on [Beacon](https://beacon.ferretdb.io).
6. Publish blog post, etc.
